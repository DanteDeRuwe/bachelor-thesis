% --- My own additions and modifications to the template ---

%pdfpages
\usepackage{pdfpages}

% frames
\usepackage[linewidth=0.5pt]{mdframed}
{\newenvironment{framed}
  {\begin{mdframed}[innerleftmargin=.5cm,innerrightmargin=.5cm,innertopmargin=0.5cm,innerbottommargin=0.5cm]}
  {\end{mdframed}}}

% code blocks
\usepackage[cache=true, outputdir=build]{minted}
\BeforeBeginEnvironment{minted}{\begin{mdframed}[backgroundcolor=black!10, hidealllines=true]}
  \AfterEndEnvironment{minted}{\end{mdframed}}

% Add glossary
\usepackage[nopostdot, style=altlist]{glossaries}

% show in red if glossary entry not defined
\let\originalgls\gls
\renewcommand{\gls}[1]{\ifglsentryexists{#1}{\originalgls{#1}}{\textcolor{red}{\underline{#1}}}}

% Glossary acronymn combination
\newcommand\glsacronymnfirst[1]{\glsentrylong{#1} (\glsentryname{#1})}

% Mailto links
\def\mailto#1{\href{mailto:#1}{#1}}

% remove hyphenation on certain words
\hyphenation{WebAssembly Blazor Smapiot smapiot}

% hyperlink with text and target the same
\def\hrefself#1{\href{#1}{#1}}

% footnote with hyperlink
\def\hreffootnote#1{\footnote{\hrefself{#1}}}

% get rid of paragraph indents
\usepackage{parskip}
\setlength{\parindent}{0pt}

% blank line
\def\blankline{\vspace{\baselineskip}}

% item with vspace before it
\def\spacedItem{\vspace{2mm}\item}

% full reference
\newcommand*{\fullref}[1]{\hyperref[{#1}]{\ref*{#1}
(``\textit{\nameref*{#1}}'')}}

% make figure captions smaller
\usepackage{caption}
\captionsetup{font=footnotesize}


% better tables
\usepackage{tabularx}
\newcolumntype{Y}{>{\centering\arraybackslash}X}
\def\centeritem#1{\multicolumn{1}{>{\centering\arraybackslash}c}{#1}}

% prevent pagebreaks and keep content together
\newenvironment{keeptogether}
  {\par\nobreak\vfil\penalty0\vfilneg
   \vtop\bgroup}
  {\par\xdef\tpd{\the\prevdepth}\egroup
   \prevdepth=\tpd}

% footnote back ref
\usepackage{footnotebackref}